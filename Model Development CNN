{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "29110581",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:07.562770Z",
     "iopub.status.busy": "2025-04-17T08:15:07.562406Z",
     "iopub.status.idle": "2025-04-17T08:15:08.251326Z",
     "shell.execute_reply": "2025-04-17T08:15:08.250085Z"
    },
    "papermill": {
     "duration": 0.698966,
     "end_time": "2025-04-17T08:15:08.253315",
     "exception": false,
     "start_time": "2025-04-17T08:15:07.554349",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Data source import complete.\n"
     ]
    }
   ],
   "source": [
    "import kagglehub\n",
    "taruntiwarihp_phishing_site_urls_path = kagglehub.dataset_download('taruntiwarihp/phishing-site-urls')\n",
    "\n",
    "print('Data source import complete.')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "9b90c1eb",
   "metadata": {
    "_cell_guid": "b1076dfc-b9ad-4769-8c92-a6c4dae69d19",
    "_uuid": "8f2839f25d086af736a60e9eeb907d3b93b6e0e5",
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:08.267184Z",
     "iopub.status.busy": "2025-04-17T08:15:08.266372Z",
     "iopub.status.idle": "2025-04-17T08:15:10.271110Z",
     "shell.execute_reply": "2025-04-17T08:15:10.269729Z"
    },
    "papermill": {
     "duration": 2.013405,
     "end_time": "2025-04-17T08:15:10.273027",
     "exception": false,
     "start_time": "2025-04-17T08:15:08.259622",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "/kaggle/input/phishing-site-urls/phishing_site_urls.csv\n"
     ]
    }
   ],
   "source": [
    "# This Python 3 environment comes with many helpful analytics libraries installed\n",
    "# It is defined by the kaggle/python Docker image: https://github.com/kaggle/docker-python\n",
    "# For example, here's several helpful packages to load\n",
    "\n",
    "import numpy as np # linear algebra\n",
    "import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)\n",
    "\n",
    "# Input data files are available in the read-only \"../input/\" directory\n",
    "# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n",
    "\n",
    "import os\n",
    "for dirname, _, filenames in os.walk('/kaggle/input'):\n",
    "    for filename in filenames:\n",
    "        print(os.path.join(dirname, filename))\n",
    "\n",
    "# You can write up to 20GB to the current directory (/kaggle/working/) that gets preserved as output when you create a version using \"Save & Run All\" \n",
    "# You can also write temporary files to /kaggle/temp/, but they won't be saved outside of the current session"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "80939db4",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:10.288490Z",
     "iopub.status.busy": "2025-04-17T08:15:10.287981Z",
     "iopub.status.idle": "2025-04-17T08:15:11.486592Z",
     "shell.execute_reply": "2025-04-17T08:15:11.485769Z"
    },
    "papermill": {
     "duration": 1.20761,
     "end_time": "2025-04-17T08:15:11.488287",
     "exception": false,
     "start_time": "2025-04-17T08:15:10.280677",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "dataset = pd.read_csv(\"/kaggle/input/phishing-site-urls/phishing_site_urls.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "42a07b7e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.501655Z",
     "iopub.status.busy": "2025-04-17T08:15:11.501370Z",
     "iopub.status.idle": "2025-04-17T08:15:11.523733Z",
     "shell.execute_reply": "2025-04-17T08:15:11.522883Z"
    },
    "papermill": {
     "duration": 0.030687,
     "end_time": "2025-04-17T08:15:11.525205",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.494518",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>www.dghjdgf.com/paypal.co.uk/cycgi-bin/webscrc...</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                 URL Label\n",
       "0  nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad\n",
       "1  www.dghjdgf.com/paypal.co.uk/cycgi-bin/webscrc...   bad\n",
       "2  serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad\n",
       "3  mail.printakid.com/www.online.americanexpress....   bad\n",
       "4  thewhiskeydregs.com/wp-content/themes/widescre...   bad"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "91dc3fbe",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.538590Z",
     "iopub.status.busy": "2025-04-17T08:15:11.538321Z",
     "iopub.status.idle": "2025-04-17T08:15:11.546920Z",
     "shell.execute_reply": "2025-04-17T08:15:11.546118Z"
    },
    "papermill": {
     "duration": 0.01676,
     "end_time": "2025-04-17T08:15:11.548217",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.531457",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                       URL Label\n",
       "549341     23.227.196.215/   bad\n",
       "549342  apple-checker.org/   bad\n",
       "549343   apple-iclods.org/   bad\n",
       "549344  apple-uptoday.org/   bad\n",
       "549345   apple-search.info   bad"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.tail()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "38befabf",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.561746Z",
     "iopub.status.busy": "2025-04-17T08:15:11.561425Z",
     "iopub.status.idle": "2025-04-17T08:15:11.566946Z",
     "shell.execute_reply": "2025-04-17T08:15:11.565814Z"
    },
    "papermill": {
     "duration": 0.013922,
     "end_time": "2025-04-17T08:15:11.568440",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.554518",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Dataset shape: (549346, 2)\n"
     ]
    }
   ],
   "source": [
    "print(\"Dataset shape:\", dataset.shape)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "e85677e8",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.582800Z",
     "iopub.status.busy": "2025-04-17T08:15:11.582308Z",
     "iopub.status.idle": "2025-04-17T08:15:11.590614Z",
     "shell.execute_reply": "2025-04-17T08:15:11.589676Z"
    },
    "papermill": {
     "duration": 0.017863,
     "end_time": "2025-04-17T08:15:11.592624",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.574761",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['URL', 'Label'], dtype='object')"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "be8aff59",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.611413Z",
     "iopub.status.busy": "2025-04-17T08:15:11.610883Z",
     "iopub.status.idle": "2025-04-17T08:15:11.688547Z",
     "shell.execute_reply": "2025-04-17T08:15:11.687526Z"
    },
    "papermill": {
     "duration": 0.08761,
     "end_time": "2025-04-17T08:15:11.690288",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.602678",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "URL      0\n",
       "Label    0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.isnull().sum()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "154d80a7",
   "metadata": {
    "papermill": {
     "duration": 0.006052,
     "end_time": "2025-04-17T08:15:11.702864",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.696812",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**Data preprocessing**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "db99cb4b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:11.716898Z",
     "iopub.status.busy": "2025-04-17T08:15:11.716270Z",
     "iopub.status.idle": "2025-04-17T08:15:13.918993Z",
     "shell.execute_reply": "2025-04-17T08:15:13.917620Z"
    },
    "papermill": {
     "duration": 2.211465,
     "end_time": "2025-04-17T08:15:13.920620",
     "exception": false,
     "start_time": "2025-04-17T08:15:11.709155",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Class distribution:\n",
      " class_url\n",
      "1    392924\n",
      "0    156422\n",
      "Name: count, dtype: int64\n",
      "\n",
      "Top repeated URLs:\n",
      " URL\n",
      "jhomitevd2abj3fk.tor2web.org/    52\n",
      "jhomitevd2abj3fk.onion.to/       52\n",
      "zjfq4lnfbs7pncr5.onion.to/       44\n",
      "zjfq4lnfbs7pncr5.tor2web.org/    44\n",
      "5n7y4yihirccftc5.tor2web.org/    42\n",
      "Name: count, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "from sklearn.preprocessing import LabelEncoder\n",
    "\n",
    "# Encode the 'Label' column into integers\n",
    "label_encoder = LabelEncoder()\n",
    "dataset['class_url'] = label_encoder.fit_transform(dataset['Label'])\n",
    "\n",
    "# Display the distribution of encoded classes\n",
    "print(\"Class distribution:\\n\", dataset['class_url'].value_counts())\n",
    "\n",
    "# Display the most frequent URLs\n",
    "print(\"\\nTop repeated URLs:\\n\", dataset['URL'].value_counts().head())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "13a430f2",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:13.935320Z",
     "iopub.status.busy": "2025-04-17T08:15:13.934816Z",
     "iopub.status.idle": "2025-04-17T08:15:13.949454Z",
     "shell.execute_reply": "2025-04-17T08:15:13.948688Z"
    },
    "papermill": {
     "duration": 0.023786,
     "end_time": "2025-04-17T08:15:13.951164",
     "exception": false,
     "start_time": "2025-04-17T08:15:13.927378",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>www.dghjdgf.com/paypal.co.uk/cycgi-bin/webscrc...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 3 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0\n",
       "1       www.dghjdgf.com/paypal.co.uk/cycgi-bin/webscrc...   bad          0\n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0\n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0\n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0\n",
       "...                                                   ...   ...        ...\n",
       "549341                                    23.227.196.215/   bad          0\n",
       "549342                                 apple-checker.org/   bad          0\n",
       "549343                                  apple-iclods.org/   bad          0\n",
       "549344                                 apple-uptoday.org/   bad          0\n",
       "549345                                  apple-search.info   bad          0\n",
       "\n",
       "[549346 rows x 3 columns]"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "9cbc4f45",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:13.966180Z",
     "iopub.status.busy": "2025-04-17T08:15:13.965863Z",
     "iopub.status.idle": "2025-04-17T08:15:14.294153Z",
     "shell.execute_reply": "2025-04-17T08:15:14.292686Z"
    },
    "papermill": {
     "duration": 0.337619,
     "end_time": "2025-04-17T08:15:14.295755",
     "exception": false,
     "start_time": "2025-04-17T08:15:13.958136",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                                                      URL Label  class_url\n",
      "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0\n",
      "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0\n",
      "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0\n",
      "3       mail.printakid.com/www.online.americanexpress....   bad          0\n",
      "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0\n",
      "...                                                   ...   ...        ...\n",
      "549341                                    23.227.196.215/   bad          0\n",
      "549342                                 apple-checker.org/   bad          0\n",
      "549343                                  apple-iclods.org/   bad          0\n",
      "549344                                 apple-uptoday.org/   bad          0\n",
      "549345                                  apple-search.info   bad          0\n",
      "\n",
      "[549346 rows x 3 columns]\n"
     ]
    }
   ],
   "source": [
    "# Remove 'www.' from URLs\n",
    "dataset['URL'] = dataset['URL'].str.replace(r'^www\\.', '', regex=True)\n",
    "print(dataset)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "5a76e3e7",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:14.310559Z",
     "iopub.status.busy": "2025-04-17T08:15:14.310279Z",
     "iopub.status.idle": "2025-04-17T08:15:14.534726Z",
     "shell.execute_reply": "2025-04-17T08:15:14.533553Z"
    },
    "papermill": {
     "duration": 0.233962,
     "end_time": "2025-04-17T08:15:14.536797",
     "exception": false,
     "start_time": "2025-04-17T08:15:14.302835",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 4 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  \n",
       "0           225  \n",
       "1            77  \n",
       "2           177  \n",
       "3            60  \n",
       "4           116  \n",
       "...         ...  \n",
       "549341       15  \n",
       "549342       18  \n",
       "549343       17  \n",
       "549344       18  \n",
       "549345       17  \n",
       "\n",
       "[549346 rows x 4 columns]"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create a feature for URL length\n",
    "dataset['url_len'] = dataset['URL'].apply(lambda x: len(str(x)))\n",
    "\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "33c7d274",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:14.553561Z",
     "iopub.status.busy": "2025-04-17T08:15:14.553279Z",
     "iopub.status.idle": "2025-04-17T08:15:19.717178Z",
     "shell.execute_reply": "2025-04-17T08:15:19.715959Z"
    },
    "papermill": {
     "duration": 5.173448,
     "end_time": "2025-04-17T08:15:19.718992",
     "exception": false,
     "start_time": "2025-04-17T08:15:14.545544",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting tld\r\n",
      "  Downloading tld-0.13-py2.py3-none-any.whl.metadata (9.4 kB)\r\n",
      "Downloading tld-0.13-py2.py3-none-any.whl (263 kB)\r\n",
      "\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m263.8/263.8 kB\u001b[0m \u001b[31m5.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\r\n",
      "\u001b[?25hInstalling collected packages: tld\r\n",
      "Successfully installed tld-0.13\r\n"
     ]
    }
   ],
   "source": [
    "!pip install tld"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "5c70c629",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:19.736014Z",
     "iopub.status.busy": "2025-04-17T08:15:19.735086Z",
     "iopub.status.idle": "2025-04-17T08:15:22.067533Z",
     "shell.execute_reply": "2025-04-17T08:15:22.066524Z"
    },
    "papermill": {
     "duration": 2.342551,
     "end_time": "2025-04-17T08:15:22.069081",
     "exception": false,
     "start_time": "2025-04-17T08:15:19.726530",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 5 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  \n",
       "0           225             0  \n",
       "1            77             0  \n",
       "2           177             0  \n",
       "3            60             0  \n",
       "4           116             0  \n",
       "...         ...           ...  \n",
       "549341       15             0  \n",
       "549342       18             0  \n",
       "549343       17             0  \n",
       "549344       18             0  \n",
       "549345       17             0  \n",
       "\n",
       "[549346 rows x 5 columns]"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from urllib.parse import urlparse\n",
    "import re\n",
    "\n",
    "# Function to check if the hostname appears in the full URL\n",
    "def abnormal_url(url):\n",
    "    hostname = urlparse(url).hostname\n",
    "    if hostname and re.search(re.escape(hostname), url):\n",
    "        return 1  # Normal URL\n",
    "    else:\n",
    "        return 0  # Abnormal URL\n",
    "\n",
    "# Apply the abnormal_url function to each URL in the dataset\n",
    "dataset['abnormal_url'] = dataset['URL'].apply(abnormal_url)\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "86891e8c",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:22.085508Z",
     "iopub.status.busy": "2025-04-17T08:15:22.085211Z",
     "iopub.status.idle": "2025-04-17T08:15:22.095197Z",
     "shell.execute_reply": "2025-04-17T08:15:22.094028Z"
    },
    "papermill": {
     "duration": 0.019671,
     "end_time": "2025-04-17T08:15:22.096561",
     "exception": false,
     "start_time": "2025-04-17T08:15:22.076890",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "abnormal_url\n",
      "0    549217\n",
      "1       129\n",
      "Name: count, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "# Check the distribution of abnormal_url values\n",
    "print(dataset['abnormal_url'].value_counts())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "b31e05a2",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:22.113581Z",
     "iopub.status.busy": "2025-04-17T08:15:22.113278Z",
     "iopub.status.idle": "2025-04-17T08:15:25.053397Z",
     "shell.execute_reply": "2025-04-17T08:15:25.052033Z"
    },
    "papermill": {
     "duration": 2.950563,
     "end_time": "2025-04-17T08:15:25.054920",
     "exception": false,
     "start_time": "2025-04-17T08:15:22.104357",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                                                 URL  use_of_ip_address\n",
      "0  nobell.it/70ffb52d079109dca5664cce6f317373782/...                  0\n",
      "1  dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...                  0\n",
      "2  serviciosbys.com/paypal.cgi.bin.get-into.herf....                  0\n",
      "3  mail.printakid.com/www.online.americanexpress....                  0\n",
      "4  thewhiskeydregs.com/wp-content/themes/widescre...                  0\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 6 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  \n",
       "0           225             0                  0  \n",
       "1            77             0                  0  \n",
       "2           177             0                  0  \n",
       "3            60             0                  0  \n",
       "4           116             0                  0  \n",
       "...         ...           ...                ...  \n",
       "549341       15             0                  1  \n",
       "549342       18             0                  0  \n",
       "549343       17             0                  0  \n",
       "549344       18             0                  0  \n",
       "549345       17             0                  0  \n",
       "\n",
       "[549346 rows x 6 columns]"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import re\n",
    "\n",
    "# Function to detect if an IP address is present in the URL\n",
    "def having_ip_address(url: str) -> int:\n",
    "    # Regular expression for matching IPv4, hexadecimal IPv4, and IPv6 addresses\n",
    "    match = re.search(\n",
    "        r'(([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\/)|'  # IPv4\n",
    "        r'((0x[0-9a-fA-F]{1,2})\\.(0x[0-9a-fA-F]{1,2})\\.(0x[0-9a-fA-F]{1,2})\\.(0x[0-9a-fA-F]{1,2})\\/)'  # Hexadecimal IPv4\n",
    "        r'(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}', url)  # IPv6\n",
    "\n",
    "    if match:\n",
    "        return 1  # IP address found\n",
    "    else:\n",
    "        return 0  # No IP address found\n",
    "\n",
    "# Apply the function to the 'URL' column\n",
    "dataset['use_of_ip_address'] = dataset['URL'].apply(having_ip_address)\n",
    "\n",
    "# Preview the new feature\n",
    "print(dataset[['URL', 'use_of_ip_address']].head())\n",
    "\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "bf8b831e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:25.074491Z",
     "iopub.status.busy": "2025-04-17T08:15:25.073563Z",
     "iopub.status.idle": "2025-04-17T08:15:25.083077Z",
     "shell.execute_reply": "2025-04-17T08:15:25.082013Z"
    },
    "papermill": {
     "duration": 0.021162,
     "end_time": "2025-04-17T08:15:25.084516",
     "exception": false,
     "start_time": "2025-04-17T08:15:25.063354",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "use_of_ip_address\n",
      "0    543634\n",
      "1      5712\n",
      "Name: count, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "# Check the distribution of use_of_ip_address values\n",
    "print(dataset['use_of_ip_address'].value_counts())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "8294b8b8",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:25.101828Z",
     "iopub.status.busy": "2025-04-17T08:15:25.101411Z",
     "iopub.status.idle": "2025-04-17T08:15:28.746804Z",
     "shell.execute_reply": "2025-04-17T08:15:28.745893Z"
    },
    "papermill": {
     "duration": 3.65582,
     "end_time": "2025-04-17T08:15:28.748375",
     "exception": false,
     "start_time": "2025-04-17T08:15:25.092555",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>.</th>\n",
       "      <th>#</th>\n",
       "      <th>%</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 19 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  .  #  %  +  $  \\\n",
       "0           225             0                  0  0  1  4  4  6  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  4  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  7  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  6  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  1  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. .. .. .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  3  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "\n",
       "        !  *  ,  //  \n",
       "0       0  0  0   0  \n",
       "1       0  0  0   0  \n",
       "2       0  0  0   0  \n",
       "3       0  0  0   0  \n",
       "4       0  0  0   1  \n",
       "...    .. .. ..  ..  \n",
       "549341  0  0  0   0  \n",
       "549342  0  0  0   0  \n",
       "549343  0  0  0   0  \n",
       "549344  0  0  0   0  \n",
       "549345  0  0  0   0  \n",
       "\n",
       "[549346 rows x 19 columns]"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# List of special characters to count in URLs\n",
    "features = ['@', '?', '-', '=', '.', '#', '%', '+', '$', '!', '*', ',', '//']\n",
    "\n",
    "# Count occurrences of each feature in the 'URL' column and create new columns\n",
    "for feature in features:\n",
    "    dataset[feature] = dataset['URL'].apply(lambda url: url.count(feature))\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "0c5e7cff",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:28.766473Z",
     "iopub.status.busy": "2025-04-17T08:15:28.766114Z",
     "iopub.status.idle": "2025-04-17T08:15:32.344530Z",
     "shell.execute_reply": "2025-04-17T08:15:32.343552Z"
    },
    "papermill": {
     "duration": 3.589353,
     "end_time": "2025-04-17T08:15:32.346327",
     "exception": false,
     "start_time": "2025-04-17T08:15:28.756974",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>.</th>\n",
       "      <th>#</th>\n",
       "      <th>%</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 19 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  .  #  %  +  $  \\\n",
       "0           225             0                  0  0  1  4  4  6  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  4  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  7  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  6  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  1  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. .. .. .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  3  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "\n",
       "        !  *  ,  //  \n",
       "0       0  0  0   0  \n",
       "1       0  0  0   0  \n",
       "2       0  0  0   0  \n",
       "3       0  0  0   0  \n",
       "4       0  0  0   1  \n",
       "...    .. .. ..  ..  \n",
       "549341  0  0  0   0  \n",
       "549342  0  0  0   0  \n",
       "549343  0  0  0   0  \n",
       "549344  0  0  0   0  \n",
       "549345  0  0  0   0  \n",
       "\n",
       "[549346 rows x 19 columns]"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# List of special characters to count in URLs\n",
    "features = ['@', '?', '-', '=', '.', '#', '%', '+', '$', '!', '*', ',', '//']\n",
    "\n",
    "# Count occurrences of each special character in the 'URL' column and create new columns\n",
    "for feature in features:\n",
    "    dataset[feature] = dataset['URL'].apply(lambda url: url.count(feature))\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "22915e24",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:32.365162Z",
     "iopub.status.busy": "2025-04-17T08:15:32.364678Z",
     "iopub.status.idle": "2025-04-17T08:15:34.378408Z",
     "shell.execute_reply": "2025-04-17T08:15:34.377579Z"
    },
    "papermill": {
     "duration": 2.025279,
     "end_time": "2025-04-17T08:15:34.380440",
     "exception": false,
     "start_time": "2025-04-17T08:15:32.355161",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>.</th>\n",
       "      <th>#</th>\n",
       "      <th>%</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "      <th>https</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 20 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  .  #  %  +  $  \\\n",
       "0           225             0                  0  0  1  4  4  6  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  4  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  7  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  6  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  1  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. .. .. .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  3  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  1  0  0  0  0   \n",
       "\n",
       "        !  *  ,  //  https  \n",
       "0       0  0  0   0      0  \n",
       "1       0  0  0   0      0  \n",
       "2       0  0  0   0      0  \n",
       "3       0  0  0   0      0  \n",
       "4       0  0  0   1      0  \n",
       "...    .. .. ..  ..    ...  \n",
       "549341  0  0  0   0      0  \n",
       "549342  0  0  0   0      0  \n",
       "549343  0  0  0   0      0  \n",
       "549344  0  0  0   0      0  \n",
       "549345  0  0  0   0      0  \n",
       "\n",
       "[549346 rows x 20 columns]"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from urllib.parse import urlparse\n",
    "\n",
    "# Function to check if the URL uses HTTPS\n",
    "def httpSecured(url: str) -> int:\n",
    "    scheme = urlparse(url).scheme  # Extract the scheme (http or https)\n",
    "    return 1 if scheme == 'https' else 0  # Return 1 if HTTPS, otherwise 0\n",
    "\n",
    "# Apply the function to the 'URL' column and create a new feature 'https'\n",
    "dataset['https'] = dataset['URL'].apply(httpSecured)\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "2d26fd85",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:34.400334Z",
     "iopub.status.busy": "2025-04-17T08:15:34.400007Z",
     "iopub.status.idle": "2025-04-17T08:15:36.806493Z",
     "shell.execute_reply": "2025-04-17T08:15:36.805540Z"
    },
    "papermill": {
     "duration": 2.418324,
     "end_time": "2025-04-17T08:15:36.808218",
     "exception": false,
     "start_time": "2025-04-17T08:15:34.389894",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                                                 URL  digits\n",
      "0  nobell.it/70ffb52d079109dca5664cce6f317373782/...      58\n",
      "1  dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...       1\n",
      "2  serviciosbys.com/paypal.cgi.bin.get-into.herf....      47\n",
      "3  mail.printakid.com/www.online.americanexpress....       0\n",
      "4  thewhiskeydregs.com/wp-content/themes/widescre...      21\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>...</th>\n",
       "      <th>#</th>\n",
       "      <th>%</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "      <th>https</th>\n",
       "      <th>digits</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>58</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 21 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  ...  #  %  +  $  \\\n",
       "0           225             0                  0  0  1  4  4  ...  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  ...  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  ...  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  ...  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. ..  ... .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  ...  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "\n",
       "        !  *  ,  //  https  digits  \n",
       "0       0  0  0   0      0      58  \n",
       "1       0  0  0   0      0       1  \n",
       "2       0  0  0   0      0      47  \n",
       "3       0  0  0   0      0       0  \n",
       "4       0  0  0   1      0      21  \n",
       "...    .. .. ..  ..    ...     ...  \n",
       "549341  0  0  0   0      0      11  \n",
       "549342  0  0  0   0      0       0  \n",
       "549343  0  0  0   0      0       0  \n",
       "549344  0  0  0   0      0       0  \n",
       "549345  0  0  0   0      0       0  \n",
       "\n",
       "[549346 rows x 21 columns]"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Function to count the number of digits in the URL\n",
    "def digit_count(url: str) -> int:\n",
    "    # Count digits in the URL string\n",
    "    return sum(c.isnumeric() for c in url)\n",
    "\n",
    "# Apply the function to the 'URL' column and create a new feature 'digits'\n",
    "dataset['digits'] = dataset['URL'].apply(digit_count)\n",
    "\n",
    "# Preview the new 'digits' feature\n",
    "print(dataset[['URL', 'digits']].head())\n",
    "\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "0c99e930",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:36.829397Z",
     "iopub.status.busy": "2025-04-17T08:15:36.829038Z",
     "iopub.status.idle": "2025-04-17T08:15:39.213503Z",
     "shell.execute_reply": "2025-04-17T08:15:39.212397Z"
    },
    "papermill": {
     "duration": 2.397233,
     "end_time": "2025-04-17T08:15:39.215427",
     "exception": false,
     "start_time": "2025-04-17T08:15:36.818194",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>...</th>\n",
       "      <th>%</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "      <th>https</th>\n",
       "      <th>digits</th>\n",
       "      <th>letters</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>58</td>\n",
       "      <td>135</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>62</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "      <td>111</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>21</td>\n",
       "      <td>82</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  ...  %  +  $  !  \\\n",
       "0           225             0                  0  0  1  4  4  ...  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  ...  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  ...  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  ...  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. ..  ... .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  ...  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "\n",
       "        *  ,  //  https  digits  letters  \n",
       "0       0  0   0      0      58      135  \n",
       "1       0  0   0      0       1       62  \n",
       "2       0  0   0      0      47      111  \n",
       "3       0  0   0      0       0       52  \n",
       "4       0  0   1      0      21       82  \n",
       "...    .. ..  ..    ...     ...      ...  \n",
       "549341  0  0   0      0      11        0  \n",
       "549342  0  0   0      0       0       15  \n",
       "549343  0  0   0      0       0       14  \n",
       "549344  0  0   0      0       0       15  \n",
       "549345  0  0   0      0       0       15  \n",
       "\n",
       "[549346 rows x 22 columns]"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Function to count the number of letters in the URL\n",
    "def letter_count(url: str) -> int:\n",
    "    # Count alphabetic characters (letters) in the URL string\n",
    "    return sum(c.isalpha() for c in url)\n",
    "\n",
    "# Apply the function to the 'URL' column and create a new feature 'letters'\n",
    "dataset['letters'] = dataset['URL'].apply(letter_count)\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "73d448f5",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:39.236347Z",
     "iopub.status.busy": "2025-04-17T08:15:39.236009Z",
     "iopub.status.idle": "2025-04-17T08:15:43.817512Z",
     "shell.execute_reply": "2025-04-17T08:15:43.816731Z"
    },
    "papermill": {
     "duration": 4.59397,
     "end_time": "2025-04-17T08:15:43.819298",
     "exception": false,
     "start_time": "2025-04-17T08:15:39.225328",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>...</th>\n",
       "      <th>+</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "      <th>https</th>\n",
       "      <th>digits</th>\n",
       "      <th>letters</th>\n",
       "      <th>Shortining_Service</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>58</td>\n",
       "      <td>135</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>62</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "      <td>111</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>21</td>\n",
       "      <td>82</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 23 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  ...  +  $  !  *  \\\n",
       "0           225             0                  0  0  1  4  4  ...  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  ...  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  ...  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  ...  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. ..  ... .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  ...  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "\n",
       "        ,  //  https  digits  letters  Shortining_Service  \n",
       "0       0   0      0      58      135                   0  \n",
       "1       0   0      0       1       62                   0  \n",
       "2       0   0      0      47      111                   0  \n",
       "3       0   0      0       0       52                   0  \n",
       "4       0   1      0      21       82                   0  \n",
       "...    ..  ..    ...     ...      ...                 ...  \n",
       "549341  0   0      0      11        0                   0  \n",
       "549342  0   0      0       0       15                   0  \n",
       "549343  0   0      0       0       14                   0  \n",
       "549344  0   0      0       0       15                   0  \n",
       "549345  0   0      0       0       15                   0  \n",
       "\n",
       "[549346 rows x 23 columns]"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import re\n",
    "\n",
    "# Function to check if the URL uses a shortening service\n",
    "def Shortening_Service(url: str) -> int:\n",
    "    # List of common URL shortening services\n",
    "    shortening_services = (\n",
    "        'bit\\.ly|goo\\.gl|shorte\\.st|go2l\\.ink|x\\.co|ow\\.ly|t\\.co|tinyurl|tr\\.im|is\\.gd|cli\\.gs|yfrog\\.com|'\n",
    "        'migre\\.me|ff\\.im|tiny\\.cc|url4\\.eu|twit\\.ac|su\\.pr|twurl\\.nl|snipurl\\.com|short\\.to|BudURL\\.com|'\n",
    "        'ping\\.fm|post\\.ly|Just\\.as|bkite\\.com|snipr\\.com|fic\\.kr|loopt\\.us|doiop\\.com|short\\.ie|kl\\.am|'\n",
    "        'wp\\.me|rubyurl\\.com|om\\.ly|to\\.ly|bit\\.do|t\\.co|lnkd\\.in|db\\.tt|qr\\.ae|adf\\.ly|goo\\.gl|bitly\\.com|'\n",
    "        'cur\\.lv|tinyurl\\.com|ow\\.ly|bit\\.ly|ity\\.im|q\\.gs|is\\.gd|po\\.st|bc\\.vc|twitthis\\.com|u\\.to|j\\.mp|'\n",
    "        'buzurl\\.com|cutt\\.us|u\\.bb|yourls\\.org|x\\.co|prettylinkpro\\.com|scrnch\\.me|filoops\\.info|vzturl\\.com|'\n",
    "        'qr\\.net|1url\\.com|tweez\\.me|v\\.gd|tr\\.im|link\\.zip\\.net'\n",
    "    )\n",
    "    # Search for any matching shortening service in the URL\n",
    "    match = re.search(shortening_services, url)\n",
    "    \n",
    "    # Return 1 if match found, otherwise return 0\n",
    "    return 1 if match else 0\n",
    "\n",
    "# Apply the function to the 'URL' column and create a new feature 'Shortining_Service'\n",
    "dataset['Shortining_Service'] = dataset['URL'].apply(Shortening_Service)\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "9c77fbb0",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:43.841948Z",
     "iopub.status.busy": "2025-04-17T08:15:43.841475Z",
     "iopub.status.idle": "2025-04-17T08:15:47.837281Z",
     "shell.execute_reply": "2025-04-17T08:15:47.836112Z"
    },
    "papermill": {
     "duration": 4.00923,
     "end_time": "2025-04-17T08:15:47.839294",
     "exception": false,
     "start_time": "2025-04-17T08:15:43.830064",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting googlesearch-python\r\n",
      "  Downloading googlesearch_python-1.3.0-py3-none-any.whl.metadata (3.4 kB)\r\n",
      "Requirement already satisfied: beautifulsoup4>=4.9 in /usr/local/lib/python3.11/dist-packages (from googlesearch-python) (4.13.3)\r\n",
      "Requirement already satisfied: requests>=2.20 in /usr/local/lib/python3.11/dist-packages (from googlesearch-python) (2.32.3)\r\n",
      "Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.11/dist-packages (from beautifulsoup4>=4.9->googlesearch-python) (2.6)\r\n",
      "Requirement already satisfied: typing-extensions>=4.0.0 in /usr/local/lib/python3.11/dist-packages (from beautifulsoup4>=4.9->googlesearch-python) (4.13.1)\r\n",
      "Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.11/dist-packages (from requests>=2.20->googlesearch-python) (3.4.1)\r\n",
      "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.11/dist-packages (from requests>=2.20->googlesearch-python) (3.10)\r\n",
      "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.11/dist-packages (from requests>=2.20->googlesearch-python) (2.3.0)\r\n",
      "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.11/dist-packages (from requests>=2.20->googlesearch-python) (2025.1.31)\r\n",
      "Downloading googlesearch_python-1.3.0-py3-none-any.whl (5.6 kB)\r\n",
      "Installing collected packages: googlesearch-python\r\n",
      "Successfully installed googlesearch-python-1.3.0\r\n"
     ]
    }
   ],
   "source": [
    "!pip install googlesearch-python"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "73f5a20a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:47.929157Z",
     "iopub.status.busy": "2025-04-17T08:15:47.928586Z",
     "iopub.status.idle": "2025-04-17T08:15:49.309573Z",
     "shell.execute_reply": "2025-04-17T08:15:49.308455Z"
    },
    "papermill": {
     "duration": 1.460696,
     "end_time": "2025-04-17T08:15:49.311135",
     "exception": false,
     "start_time": "2025-04-17T08:15:47.850439",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>URL</th>\n",
       "      <th>Label</th>\n",
       "      <th>class_url</th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>@</th>\n",
       "      <th>?</th>\n",
       "      <th>-</th>\n",
       "      <th>=</th>\n",
       "      <th>...</th>\n",
       "      <th>$</th>\n",
       "      <th>!</th>\n",
       "      <th>*</th>\n",
       "      <th>,</th>\n",
       "      <th>//</th>\n",
       "      <th>https</th>\n",
       "      <th>digits</th>\n",
       "      <th>letters</th>\n",
       "      <th>Shortining_Service</th>\n",
       "      <th>google_index</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>nobell.it/70ffb52d079109dca5664cce6f317373782/...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>58</td>\n",
       "      <td>135</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>62</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>serviciosbys.com/paypal.cgi.bin.get-into.herf....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "      <td>111</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>mail.printakid.com/www.online.americanexpress....</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>thewhiskeydregs.com/wp-content/themes/widescre...</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>21</td>\n",
       "      <td>82</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>23.227.196.215/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>apple-checker.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>apple-iclods.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>apple-uptoday.org/</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>apple-search.info</td>\n",
       "      <td>bad</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 24 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                      URL Label  class_url  \\\n",
       "0       nobell.it/70ffb52d079109dca5664cce6f317373782/...   bad          0   \n",
       "1       dghjdgf.com/paypal.co.uk/cycgi-bin/webscrcmd=_...   bad          0   \n",
       "2       serviciosbys.com/paypal.cgi.bin.get-into.herf....   bad          0   \n",
       "3       mail.printakid.com/www.online.americanexpress....   bad          0   \n",
       "4       thewhiskeydregs.com/wp-content/themes/widescre...   bad          0   \n",
       "...                                                   ...   ...        ...   \n",
       "549341                                    23.227.196.215/   bad          0   \n",
       "549342                                 apple-checker.org/   bad          0   \n",
       "549343                                  apple-iclods.org/   bad          0   \n",
       "549344                                 apple-uptoday.org/   bad          0   \n",
       "549345                                  apple-search.info   bad          0   \n",
       "\n",
       "        url_len  abnormal_url  use_of_ip_address  @  ?  -  =  ...  $  !  *  ,  \\\n",
       "0           225             0                  0  0  1  4  4  ...  0  0  0  0   \n",
       "1            77             0                  0  0  0  2  2  ...  0  0  0  0   \n",
       "2           177             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "3            60             0                  0  0  0  0  0  ...  0  0  0  0   \n",
       "4           116             0                  0  0  1  1  0  ...  0  0  0  0   \n",
       "...         ...           ...                ... .. .. .. ..  ... .. .. .. ..   \n",
       "549341       15             0                  1  0  0  0  0  ...  0  0  0  0   \n",
       "549342       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549343       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549344       18             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "549345       17             0                  0  0  0  1  0  ...  0  0  0  0   \n",
       "\n",
       "        //  https  digits  letters  Shortining_Service  google_index  \n",
       "0        0      0      58      135                   0             1  \n",
       "1        0      0       1       62                   0             1  \n",
       "2        0      0      47      111                   0             1  \n",
       "3        0      0       0       52                   0             1  \n",
       "4        1      0      21       82                   0             1  \n",
       "...     ..    ...     ...      ...                 ...           ...  \n",
       "549341   0      0      11        0                   0             1  \n",
       "549342   0      0       0       15                   0             1  \n",
       "549343   0      0       0       14                   0             1  \n",
       "549344   0      0       0       15                   0             1  \n",
       "549345   0      0       0       15                   0             1  \n",
       "\n",
       "[549346 rows x 24 columns]"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from googlesearch import search\n",
    "\n",
    "# Function to check if a URL is indexed by Google\n",
    "def google_index(url: str) -> int:\n",
    "    # Search the URL on Google and retrieve the top 5 results\n",
    "    site = search(url, num_results=5)\n",
    "    return 1 if site else 0  # Return 1 if indexed, otherwise 0\n",
    "\n",
    "# Apply the function to the 'URL' column and create a new feature 'google_index'\n",
    "dataset['google_index'] = dataset['URL'].apply(google_index)\n",
    "dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "b9cc93ff",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.334800Z",
     "iopub.status.busy": "2025-04-17T08:15:49.334296Z",
     "iopub.status.idle": "2025-04-17T08:15:49.428430Z",
     "shell.execute_reply": "2025-04-17T08:15:49.427179Z"
    },
    "papermill": {
     "duration": 0.108118,
     "end_time": "2025-04-17T08:15:49.430240",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.322122",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "URL                   0\n",
       "Label                 0\n",
       "class_url             0\n",
       "url_len               0\n",
       "abnormal_url          0\n",
       "use_of_ip_address     0\n",
       "@                     0\n",
       "?                     0\n",
       "-                     0\n",
       "=                     0\n",
       ".                     0\n",
       "#                     0\n",
       "%                     0\n",
       "+                     0\n",
       "$                     0\n",
       "!                     0\n",
       "*                     0\n",
       ",                     0\n",
       "//                    0\n",
       "https                 0\n",
       "digits                0\n",
       "letters               0\n",
       "Shortining_Service    0\n",
       "google_index          0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.isnull().sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "15342f56",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.454401Z",
     "iopub.status.busy": "2025-04-17T08:15:49.453943Z",
     "iopub.status.idle": "2025-04-17T08:15:49.460722Z",
     "shell.execute_reply": "2025-04-17T08:15:49.459661Z"
    },
    "papermill": {
     "duration": 0.020778,
     "end_time": "2025-04-17T08:15:49.462464",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.441686",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(549346, 24)"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dataset.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f9b8e1de",
   "metadata": {
    "papermill": {
     "duration": 0.011963,
     "end_time": "2025-04-17T08:15:49.485575",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.473612",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**Data Training and Testing**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "59d7d618",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.510363Z",
     "iopub.status.busy": "2025-04-17T08:15:49.510020Z",
     "iopub.status.idle": "2025-04-17T08:15:49.539584Z",
     "shell.execute_reply": "2025-04-17T08:15:49.538532Z"
    },
    "papermill": {
     "duration": 0.044573,
     "end_time": "2025-04-17T08:15:49.541539",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.496966",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "# Dropping unnecessary columns and creating feature set 'X'\n",
    "X = dataset.drop(['URL', 'Label', 'class_url', '@', '?', '-', '=', '.', '#', '%', '+', '$', '!', '*', ',', '//'], axis=1)\n",
    "\n",
    "# Target variable 'y' is the class_url column\n",
    "y = dataset['class_url']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "2a35bb51",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.565662Z",
     "iopub.status.busy": "2025-04-17T08:15:49.565343Z",
     "iopub.status.idle": "2025-04-17T08:15:49.578147Z",
     "shell.execute_reply": "2025-04-17T08:15:49.577081Z"
    },
    "papermill": {
     "duration": 0.02729,
     "end_time": "2025-04-17T08:15:49.580049",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.552759",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>url_len</th>\n",
       "      <th>abnormal_url</th>\n",
       "      <th>use_of_ip_address</th>\n",
       "      <th>https</th>\n",
       "      <th>digits</th>\n",
       "      <th>letters</th>\n",
       "      <th>Shortining_Service</th>\n",
       "      <th>google_index</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>225</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>58</td>\n",
       "      <td>135</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>77</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>62</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>177</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "      <td>111</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>60</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>116</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>21</td>\n",
       "      <td>82</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549341</th>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549342</th>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549343</th>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549344</th>\n",
       "      <td>18</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>549345</th>\n",
       "      <td>17</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>549346 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        url_len  abnormal_url  use_of_ip_address  https  digits  letters  \\\n",
       "0           225             0                  0      0      58      135   \n",
       "1            77             0                  0      0       1       62   \n",
       "2           177             0                  0      0      47      111   \n",
       "3            60             0                  0      0       0       52   \n",
       "4           116             0                  0      0      21       82   \n",
       "...         ...           ...                ...    ...     ...      ...   \n",
       "549341       15             0                  1      0      11        0   \n",
       "549342       18             0                  0      0       0       15   \n",
       "549343       17             0                  0      0       0       14   \n",
       "549344       18             0                  0      0       0       15   \n",
       "549345       17             0                  0      0       0       15   \n",
       "\n",
       "        Shortining_Service  google_index  \n",
       "0                        0             1  \n",
       "1                        0             1  \n",
       "2                        0             1  \n",
       "3                        0             1  \n",
       "4                        0             1  \n",
       "...                    ...           ...  \n",
       "549341                   0             1  \n",
       "549342                   0             1  \n",
       "549343                   0             1  \n",
       "549344                   0             1  \n",
       "549345                   0             1  \n",
       "\n",
       "[549346 rows x 8 columns]"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "X"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "c0c41754",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.605540Z",
     "iopub.status.busy": "2025-04-17T08:15:49.605258Z",
     "iopub.status.idle": "2025-04-17T08:15:49.612659Z",
     "shell.execute_reply": "2025-04-17T08:15:49.611773Z"
    },
    "papermill": {
     "duration": 0.022555,
     "end_time": "2025-04-17T08:15:49.614380",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.591825",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0         0\n",
       "1         0\n",
       "2         0\n",
       "3         0\n",
       "4         0\n",
       "         ..\n",
       "549341    0\n",
       "549342    0\n",
       "549343    0\n",
       "549344    0\n",
       "549345    0\n",
       "Name: class_url, Length: 549346, dtype: int64"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "bfb8f630",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.639980Z",
     "iopub.status.busy": "2025-04-17T08:15:49.639461Z",
     "iopub.status.idle": "2025-04-17T08:15:49.922284Z",
     "shell.execute_reply": "2025-04-17T08:15:49.921161Z"
    },
    "papermill": {
     "duration": 0.298096,
     "end_time": "2025-04-17T08:15:49.924123",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.626027",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Splitting the data into training and testing sets\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, shuffle=True, random_state=5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "id": "435b9715",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:49.950244Z",
     "iopub.status.busy": "2025-04-17T08:15:49.949899Z",
     "iopub.status.idle": "2025-04-17T08:15:49.955819Z",
     "shell.execute_reply": "2025-04-17T08:15:49.954574Z"
    },
    "papermill": {
     "duration": 0.021272,
     "end_time": "2025-04-17T08:15:49.957321",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.936049",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "X_train Shape : (439476, 8)\n",
      "Y_train Shape : (439476,)\n",
      "X_test Shape : (109870, 8)\n",
      "Y_test Shape : (109870,)\n"
     ]
    }
   ],
   "source": [
    "print(f\"X_train Shape : {X_train.shape}\")  # Shape of the training features\n",
    "print(f\"Y_train Shape : {y_train.shape}\")  # Shape of the training target variable\n",
    "print(f\"X_test Shape : {X_test.shape}\")    # Shape of the test features\n",
    "print(f\"Y_test Shape : {y_test.shape}\")    # Shape of the test target variable"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "645565c3",
   "metadata": {
    "papermill": {
     "duration": 0.011413,
     "end_time": "2025-04-17T08:15:49.980507",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.969094",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**Model Developing CNN**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "01fd87f7",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2025-04-17T08:15:50.005800Z",
     "iopub.status.busy": "2025-04-17T08:15:50.005399Z",
     "iopub.status.idle": "2025-04-17T08:20:46.192778Z",
     "shell.execute_reply": "2025-04-17T08:20:46.191452Z"
    },
    "papermill": {
     "duration": 296.202196,
     "end_time": "2025-04-17T08:20:46.194363",
     "exception": false,
     "start_time": "2025-04-17T08:15:49.992167",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "2025-04-17 08:15:52.383395: E external/local_xla/xla/stream_executor/cuda/cuda_fft.cc:477] Unable to register cuFFT factory: Attempting to register factory for plugin cuFFT when one has already been registered\n",
      "WARNING: All log messages before absl::InitializeLog() is called are written to STDERR\n",
      "E0000 00:00:1744877752.652975      13 cuda_dnn.cc:8310] Unable to register cuDNN factory: Attempting to register factory for plugin cuDNN when one has already been registered\n",
      "E0000 00:00:1744877752.727487      13 cuda_blas.cc:1418] Unable to register cuBLAS factory: Attempting to register factory for plugin cuBLAS when one has already been registered\n",
      "2025-04-17 08:16:08.041472: E external/local_xla/xla/stream_executor/cuda/cuda_driver.cc:152] failed call to cuInit: INTERNAL: CUDA error: Failed call to cuInit: UNKNOWN ERROR (303)\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Epoch 1/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m29s\u001b[0m 2ms/step - accuracy: 0.7532 - loss: 0.5522\n",
      "Epoch 2/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m27s\u001b[0m 2ms/step - accuracy: 0.7890 - loss: 0.4927\n",
      "Epoch 3/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m27s\u001b[0m 2ms/step - accuracy: 0.7952 - loss: 0.4813\n",
      "Epoch 4/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m27s\u001b[0m 2ms/step - accuracy: 0.7982 - loss: 0.4766\n",
      "Epoch 5/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m26s\u001b[0m 2ms/step - accuracy: 0.7990 - loss: 0.4751\n",
      "Epoch 6/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m27s\u001b[0m 2ms/step - accuracy: 0.7999 - loss: 0.4726\n",
      "Epoch 7/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m26s\u001b[0m 2ms/step - accuracy: 0.7999 - loss: 0.4732\n",
      "Epoch 8/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m27s\u001b[0m 2ms/step - accuracy: 0.7998 - loss: 0.4726\n",
      "Epoch 9/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m26s\u001b[0m 2ms/step - accuracy: 0.8010 - loss: 0.4708\n",
      "Epoch 10/10\n",
      "\u001b[1m13734/13734\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m26s\u001b[0m 2ms/step - accuracy: 0.8004 - loss: 0.4714\n",
      "\u001b[1m3434/3434\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m4s\u001b[0m 1ms/step\n",
      "CNN Accuracy: 80.25%\n"
     ]
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAqsAAAIjCAYAAAAk+FJEAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuNSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/xnp5ZAAAACXBIWXMAAA9hAAAPYQGoP6dpAABXGElEQVR4nO3deXRNV//H8c9NZCKDGCJiTFDzVFVFK7Rq6oOWVltUqKFUUUrRmhU1Peah5qGmFtVSHVBjlacqVIuUiDkexBiR+fz+8HMfV6JNCOdI3q+1rOXus+8+35OudXy6s88+NsMwDAEAAAAW5GR2AQAAAMC9EFYBAABgWYRVAAAAWBZhFQAAAJZFWAUAAIBlEVYBAABgWYRVAAAAWBZhFQAAAJZFWAUAAIBlEVYB4BH5/vvvValSJbm7u8tms+nKlSsZOv6CBQtks9l0/PjxDB33cWaz2TRkyBCzywDwAAirADJEeHi43nnnHQUFBcnd3V3e3t6qWbOmJk2apJs3b9r7FS1aVDabTd26dUsxxpYtW2Sz2bRy5Up72+0A5u7urjNnzqT4Tu3atVWuXLk017llyxY1a9ZM/v7+cnV1lZ+fnxo3bqzVq1en84rTJyoqSi1atJCHh4emTZumxYsXK0eOHA/1nI/S7f+udevWTfX47NmzZbPZZLPZtGfPnnSPv3PnTg0ZMiTDAz4A6yOsAnhg3377rcqXL68vvvhCjRs31pQpUzRq1CgVLlxYffr0UY8ePVJ8Z/bs2Tp79myazxEXF6dPP/30geocPHiw6tSpoz/++EPvvPOOZs6cqT59+ig6OlrNmzfX0qVLH2j8v/Prr7/q+vXrGj58uNq3b6/WrVvLxcUlQ8/x1ltv6ebNmypSpEiGjptW7u7u2rx5s86dO5fi2JIlS+Tu7n7fY+/cuVNDhw5Nd1i9efOmBgwYcN/nBWA+wiqABxIREaE33nhDRYoU0cGDBzVp0iR17NhRXbt21bJly3Tw4EGVLVvW4Ttly5ZVUlJSusJnpUqV0h1w77Ry5UoNGzZMr776qv78808NHTpUb7/9tvr06aPNmzfr+++/l7e3932NnRbnz5+XJOXMmfOhncPZ2dm+xMAMNWvWlKenp1asWOHQfvr0aW3fvl0vvfTSI6kjOTlZsbGxkm4F6GzZsj2S8wJ4OAirAB7ImDFjFB0drblz5yp//vwpjhcvXjzFzGrRokXVpk2bdIXPjz76KN0B904DBw5Urly5NG/evFRnNOvXr69//etf9s/nz59X+/btlS9fPrm7u6tixYpauHChw3eOHz8um82mcePGadasWSpWrJjc3NxUtWpV/frrr/Z+tWvXVkhIiCSpatWqstlsatu2raRbP4vbf79T7dq1Vbt2bYe2KVOmqGzZssqePbt8fX311FNPOcwG32vN6vTp01W2bFm5ubkpICBAXbt2TTFDeXs5xcGDB1WnTh1lz55dBQoU0JgxY+71I03B3d1dzZo1SzFDvWzZMvn6+qp+/fopvvP777+rbdu29uUj/v7+evvttxUVFWXvM2TIEPXp00eSFBgYaF9OcPs6bTab3nvvPS1ZssR+nd9//7392O01qzdv3lSpUqVUqlQph6Uply5dUv78+VWjRg0lJSWl+XoBPBqEVQAPZO3atQoKClKNGjXS9b2PP/5YiYmJaQ6fgYGB6Q64tx05ckSHDx/Wyy+/LC8vr3/sf/PmTdWuXVuLFy9Wq1atNHbsWPn4+Kht27aaNGlSiv5Lly7V2LFj9c477+iTTz7R8ePH1axZMyUkJNivtVOnTpKkYcOGafHixXrnnXfSdQ2zZ89W9+7dVaZMGU2cOFFDhw5VpUqVtHv37r/93pAhQ9S1a1cFBARo/Pjxat68uT777DPVq1fPXt9tly9fVoMGDVSxYkWNHz9epUqVUt++ffXdd9+luc6WLVvqP//5j8LDw+1tS5cu1auvvprq/yRs2LBBx44dU7t27TRlyhS98cYbWr58uRo1aiTDMCRJzZo105tvvilJmjBhghYvXqzFixcrb9689nF++ukn9ezZU6+//romTZqkokWLpjiXh4eHFi5cqKNHj+rjjz+2t3ft2lVXr17VggUL5OzsnOZrBfCIGABwn65evWpIMpo2bZrm7xQpUsR46aWXDMMwjHbt2hnu7u7G2bNnDcMwjM2bNxuSjC+//NLef/78+YYk49dffzXCw8ONbNmyGd27d7cfDw4ONsqWLfu35/z6668NScaECRPSVOPEiRMNScbnn39ub4uPjzeqV69ueHp6GteuXTMMwzAiIiIMSUbu3LmNS5cupTjf2rVrU72Ou38eISEhKWoIDg42goOD7Z+bNm36j9d5+xwRERGGYRjG+fPnDVdXV6NevXpGUlKSvd/UqVMNSca8efMczifJWLRokb0tLi7O8Pf3N5o3b/635719HS+99JKRmJho+Pv7G8OHDzcMwzAOHjxoSDK2bt2a6s8gJiYmxVjLli0zJBnbtm2zt40dO9bh2u4kyXBycjL+/PPPVI8NHjzYoa1///6Gk5OTsW3bNuPLL780JBkTJ078x2sEYA5mVgHct2vXrklSmmYrUzNgwIB0za4GBQXprbfe0qxZsxQZGfnQ6ly/fr38/f3ts3mS5OLiou7duys6Olpbt2516P/666/L19fX/vm5556TJB07dizNNf6TnDlz6vTp0w7LC/7Jxo0bFR8fr/fff19OTv+73Xfs2FHe3t769ttvHfp7enqqdevW9s+urq56+umn03Udzs7OatGihZYtWybp1oNVhQoVsv9M7ubh4WH/e2xsrC5evKhnnnlGkrR37940nzc4OFhlypRJU98hQ4aobNmyCgkJ0bvvvqvg4GB17949zecC8GgRVgHct9sPJF2/fv2+vn8/4TO9Afd+6jxx4oRKlCjhEPAkqXTp0vbjdypcuLDD59vB9fLly2mu8Z/07dtXnp6eevrpp1WiRAl17dpVP//8899+53adJUuWdGh3dXVVUFBQiusoWLBgioezfH19030dLVu21MGDB7V//34tXbpUb7zxxj0f+rp06ZJ69OihfPnyycPDQ3nz5lVgYKAk6erVq2k+5+3vpIWrq6vmzZuniIgIXb9+XfPnzzftoTQA/4ywCuC+eXt7KyAgQH/88cd9j3F77ero0aPT1D8oKEitW7dOV8AtVaqUJOnAgQP3Xeffudc6R+P/11z+nXuFpLsf9CldurTCwsK0fPlyPfvss1q1apWeffZZDR48OP0F38ODXMedqlWrpmLFiun9999XRESEWrZsec++LVq00OzZs9W5c2etXr1aP/74o/3hqOTk5DSf884Z2rT44YcfJN2azT1y5Ei6vgvg0SKsAngg//rXvxQeHq5ffvnlvr5frFgxtW7dWp999lm6Z1fTGnCfeOIJlSxZUl9//bWio6P/sX+RIkV05MiRFGHp8OHD9uMZxdfXN9W9Q++e9ZSkHDly6PXXX9f8+fN18uRJvfTSSxoxYoR9m6a73a4zLCzMoT0+Pl4REREPdT/WN998U1u2bFHp0qVVqVKlVPtcvnxZmzZtUr9+/TR06FC98sorevHFFxUUFJSib0bOfP7+++8aNmyY2rVrp8qVK6tDhw7pmsUF8GgRVgE8kA8//FA5cuRQhw4d9N///jfF8fDw8FSfoL/TgAEDlJCQkOZtku4MuKltQJ+aoUOHKioqSh06dFBiYmKK4z/++KPWrVsnSWrUqJHOnTvnsF9oYmKipkyZIk9PTwUHB6fpnGlRrFgx7dq1S/Hx8fa2devW6dSpUw797tzKSbr1q+wyZcrIMIwUT/XfVrduXbm6umry5MkOs6Nz587V1atXH+q+px06dNDgwYM1fvz4e/a5PZN798ztxIkTU/S9/bavB32DVUJCgtq2bauAgABNmjRJCxYs0H//+1/17NnzgcYF8PCwUzKAB1KsWDEtXbpUr7/+ukqXLq02bdqoXLlyio+P186dO/Xll1+muo/o3WO0bt06xT6mf+fjjz/W4sWLFRYWluKlA6l5/fXXdeDAAY0YMUKhoaF68803VaRIEUVFRen777/Xpk2b7PuDdurUSZ999pnatm2r3377TUWLFtXKlSv1888/a+LEiff9QFlqOnTooJUrV6pBgwZq0aKFwsPD9fnnn6tYsWIO/erVqyd/f3/VrFlT+fLl06FDhzR16lS99NJL96wnb9686t+/v4YOHaoGDRqoSZMmCgsL0/Tp01W1alWHh6kyWpEiRez7m96Lt7e3atWqpTFjxighIUEFChTQjz/+qIiIiBR9q1SpIunWf/c33nhDLi4uaty4cbpfWfvJJ59o37592rRpk7y8vFShQgUNGjRIAwYM0KuvvqpGjRqlazwAj4CpexEAyDT++usvo2PHjkbRokUNV1dXw8vLy6hZs6YxZcoUIzY21t7vzq2r7nTkyBHD2dn5b7euultISIgh6R+3dLrTpk2bjKZNmxp+fn5GtmzZjLx58xqNGzc2vv76a4d+//3vf4127doZefLkMVxdXY3y5csb8+fPd+hze+uqsWPHpjiP7toy6e+uY/z48UaBAgUMNzc3o2bNmsaePXtSbF312WefGbVq1TJy585tuLm5GcWKFTP69OljXL16NcU57t7eaerUqUapUqUMFxcXI1++fEaXLl2My5cvO/S51xZgISEhRpEiRVK03+1e/13vlNrP4PTp08Yrr7xi5MyZ0/Dx8TFee+014+zZs6luOTV8+HCjQIEChpOTk8N1SjK6du2a6jnvHOe3334zsmXLZnTr1s2hT2JiolG1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ISEhQ4oCAAAApPsIq2XKlNH27dtTtK9cuVKVK1fOkKIAAAAA6T5etzpo0CCFhITozJkzSk5O1urVqxUWFqZFixZp3bp1D6NGAAAAZFHpnllt2rSp1q5dq40bNypHjhwaNGiQDh06pLVr1+rFF198GDUCAAAgi0rTG6weN7zBCkBmwxusAGQ2GfoGq9Ts2bNHhw4dknRrHWuVKlXudygAAAAgVekOq6dPn9abb76pn3/+WTlz5pQkXblyRTVq1NDy5ctVsGDBjK4RAAAAWVS616x26NBBCQkJOnTokC5duqRLly7p0KFDSk5OVocOHR5GjQAAAMii0r1m1cPDQzt37kyxTdVvv/2m5557TjExMRla4P1gzSqAzIY1qwAym7SuWU33zGqhQoVS3fw/KSlJAQEB6R0OAAAAuKd0h9WxY8eqW7du2rNnj71tz5496tGjh8aNG5ehxQEAACBrS9MyAF9fX9lsNvvnGzduKDExUdmy3Xo+6/bfc+TIoUuXLj28atOIZQAAMhuWAQDIbDJ066qJEyc+SC0AAADAfeGlAADwGGBmFUBm89BfCiBJsbGxio+Pd2jz9vZ+kCEBAAAAu3Q/YHXjxg2999578vPzU44cOeTr6+vwBwAAAMgo6Q6rH374oX766SfNmDFDbm5umjNnjoYOHaqAgAAtWrToYdQIAACALCrda1YLFy6sRYsWqXbt2vL29tbevXtVvHhxLV68WMuWLdP69esfVq1pxppVAJkNa1YBZDYP7aUAly5dUlBQkKRb61Nvb1X17LPPatu2bekdDgAAALindIfVoKAgRURESJJKlSqlL774QpK0du1a5cyZM0OLAwAAQNaW7rDarl077d+/X5LUr18/TZs2Te7u7urZs6f69OmT4QUCAAAg63rgfVZPnDih3377TcWLF1eFChUyqq4HEptodgUAkLF8q75ndgkAkKFuhk5NU78H2mdVkooUKaIiRYo86DAAAABACmkKq5MnT07zgN27d7/vYgAAAIA7pWkZQGBgYNoGs9l07NixBy7qQbEMAEBmwzIAAJlNhi4DuP30PwAAAPAopXs3AAAAAOBRIawCAADAsgirAAAAsCzCKgAAACyLsAoAAADLuq+wun37drVu3VrVq1fXmTNnJEmLFy/Wjh07MrQ4AAAAZG3pDqurVq1S/fr15eHhodDQUMXFxUmSrl69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\n",
      "text/plain": [
       "<Figure size 800x600 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Classification Report:\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.83      0.38      0.53     31288\n",
      "           1       0.80      0.97      0.88     78582\n",
      "\n",
      "    accuracy                           0.80    109870\n",
      "   macro avg       0.81      0.68      0.70    109870\n",
      "weighted avg       0.81      0.80      0.78    109870\n",
      "\n"
     ]
    }
   ],
   "source": [
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from sklearn.metrics import accuracy_score, confusion_matrix, classification_report\n",
    "from keras.models import Sequential\n",
    "from keras.layers import Conv1D, MaxPooling1D, Flatten, Dense, Input\n",
    "\n",
    "# Reshape the data for CNN input\n",
    "X_train_cnn = np.expand_dims(X_train.values, axis=2)\n",
    "X_test_cnn = np.expand_dims(X_test.values, axis=2)\n",
    "\n",
    "# Ensure correct shape: (samples, time_steps, features)\n",
    "X_train_cnn = np.array(X_train_cnn).reshape(len(X_train_cnn), -1, 1)\n",
    "X_test_cnn = np.array(X_test_cnn).reshape(len(X_test_cnn), -1, 1)\n",
    "\n",
    "# Build CNN model\n",
    "cnn = Sequential([\n",
    "    Input(shape=(X_train_cnn.shape[1], 1)),  # Correct input shape\n",
    "    Conv1D(filters=64, kernel_size=2, activation='relu'),\n",
    "    MaxPooling1D(pool_size=2),\n",
    "    Flatten(),\n",
    "    Dense(50, activation='relu'),\n",
    "    Dense(1, activation='sigmoid')\n",
    "])\n",
    "\n",
    "# Compile model\n",
    "cnn.compile(optimizer='adam', loss='binary_crossentropy', metrics=['accuracy'])\n",
    "\n",
    "# Train model\n",
    "cnn.fit(X_train_cnn, y_train, epochs=10, batch_size=32, verbose=1)\n",
    "\n",
    "# Predict probabilities\n",
    "cnn_pred = cnn.predict(X_test_cnn).ravel()\n",
    "\n",
    "# Convert probabilities to class labels\n",
    "y_pred = (cnn_pred > 0.5).astype(int)\n",
    "\n",
    "# 1. Accuracy\n",
    "accuracy = cnn.evaluate(X_test_cnn, y_test, verbose=0)\n",
    "print(f\"CNN Accuracy: {accuracy[1]:.2%}\")\n",
    "\n",
    "# 2. Confusion Matrix\n",
    "cm = confusion_matrix(y_test, y_pred)\n",
    "plt.figure(figsize=(8, 6))\n",
    "sns.heatmap(cm, annot=True, fmt=\"d\", cmap=\"Blues\", cbar=False,\n",
    "            xticklabels=['Predicted Negative', 'Predicted Positive'],\n",
    "            yticklabels=['Actual Negative', 'Actual Positive'])\n",
    "plt.title('CNN Confusion Matrix')\n",
    "plt.xlabel('Predicted labels')\n",
    "plt.ylabel('True labels')\n",
    "plt.show()\n",
    "\n",
    "# 3. Classification Report\n",
    "print(\"\\nClassification Report:\")\n",
    "print(classification_report(y_test, y_pred))"
   ]
  }
 ],
 "metadata": {
  "kaggle": {
   "accelerator": "none",
   "dataSources": [
    {
     "datasetId": 791543,
     "sourceId": 1359146,
     "sourceType": "datasetVersion"
    }
   ],
   "dockerImageVersionId": 31012,
   "isGpuEnabled": false,
   "isInternetEnabled": true,
   "language": "python",
   "sourceType": "notebook"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.11"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 347.369004,
   "end_time": "2025-04-17T08:20:49.814265",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2025-04-17T08:15:02.445261",
   "version": "2.6.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
